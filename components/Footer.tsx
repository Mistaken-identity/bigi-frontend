import React, { useState, useEffect, useMemo, FC, ReactNode } from 'react';
import { View, Product } from '../types';
import { CATEGORIES, SLOGAN, INSTAGRAM_HANDLE, FACEBOOK_HANDLE, X_HANDLE, LINKEDIN_HANDLE, TIKTOK_HANDLE } from '../constants';
import { LOCAL_PRODUCTS } from '../data';
import { BrandedCartIcon, EnvelopeIcon, PaperAirplaneIcon, InstagramIcon, FacebookIcon, XSocialIcon, LinkedInIcon, BanknotesIcon, TikTokIcon } from '../icons';

interface AnimatedCart {
  id: number;
  imageUrl: string;
  duration: number;
  bottom: number;
}

export const Footer: FC<{ onNavigate: (view: View, data?: any) => void }> = ({ onNavigate }) => {
    const allProducts = useMemo(() => Object.values(LOCAL_PRODUCTS).flat(), []);
    const [carts, setCarts] = useState<AnimatedCart[]>([]);

    useEffect(() => {
        if (allProducts.length === 0) return;

        const createCart = () => {
            const randomProduct: Product = allProducts[Math.floor(Math.random() * allProducts.length)];
            const newCart: AnimatedCart = {
                id: Date.now() + Math.random(), // Add random to avoid key collision
                imageUrl: randomProduct.imageUrls[0],
                duration: Math.random() * 10 + 10, // Slower animation: 10 to 20 seconds
                bottom: Math.random() * 80 + 10, // Random vertical position
            };
            setCarts(prev => [...prev, newCart]);
        };

        // Slower interval for spawning carts
        const intervalId = setInterval(createCart, Math.random() * 4000 + 4000);
        return () => clearInterval(intervalId);
    }, [allProducts]);

    const handleRemoveCart = (id: number) => {
        setCarts(prev => prev.filter(cart => cart.id !== id));
    };

    const SocialLink: FC<{ href: string, icon: ReactNode, className?: string }> = ({ href, icon, className }) => (
        <a href={href} target="_blank" rel="noopener noreferrer" className={`text-gray-400 ${className}`}>
            {icon}
        </a>
    );

    return (
        <footer className="bg-gray-800 text-white relative overflow-hidden">
            <div className="footer-map-container">
                <svg className="footer-map-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 900" fill="currentColor" aria-hidden="true">
                  <path d="m338.3 5.6-23.3 12.3c-7.2 3.8-13.5 8.8-19.6 14.2-13.2 11.7-24.8 25.1-34.4 40-9.8 15.2-17.4 31.8-22.3 49.3-6.1 21.8-8.8 44.5-8.1 67.5.5 17.5 2.6 34.9 5.8 52 4.3 22.8 10.8 44.9 19.1 65.8 14.8 37.3 35.8 71.3 61.6 101.2 13.9 16.2 29.1 31.2 45.4 44.6 20.3 16.7 42.4 30.5 65.8 41 26.6 12 54.7 19.3 83.3 21.1 30.8 1.9 61.5-3.3 89.6-14.8 28.5-11.7 54.1-29.7 75-52.6 20.6-22.6 36.3-50 46.1-79.9 12-36.6 16.9-74.8 15.6-112.9-.8-22.3-3.8-44.4-8.8-65.7-8.1-34.8-22.8-67.6-42.8-96.6-15.8-22.8-35.4-43-57.8-59.6-25.1-18.6-53-32-82.6-39.2-28.2-6.8-57.2-7.2-85.6-2-21.5 3.9-42.2 11.5-61.4 22.3-13.8 7.8-26.7 17.3-38.4 28.2-17.7 16.5-32.9 36-44.5 57.7-11.4 21.2-19.1 44.3-22.6 68.4-3.8 25.8-3.1 52.3 1.5 77.9 5.2 28.8 14.9 56.4 28.5 81.3 15.3 28.2 35.3 53.6 59.3 75.2 22.1 20 47.7 35.5 75.3 45.7 32.1 11.9 66.1 16.7 99.9 14.1 34.6-2.6 67.8-13.3 97.4-31.1 23.9-14.4 45.3-33.8 62.9-57.1 19.4-25.7 33.8-55.5 42.4-87.6 9.1-33.8 12-69.2 8.8-104.5-2.2-24-7.5-47.5-15.5-69.8-12.2-34.2-30.4-65.7-53.5-93.3-21.1-25.3-46.4-46.2-74.6-61.6-28.7-15.6-60-25-92.2-27.4-33.1-2.4-66.2 3.1-96.8 15.1-29.1 11.5-55.6 29.5-77.7 52.8-21.7 22.9-38.6 50.4-50.1 80.3-12.7 33-19.3 68.1-19.4 103.8-.1 35.3 5.9 70.3 17.8 103.3 12.3 33.9 30.1 65.6 52.4 94 24.2 30.8 53.1 57.6 85.8 79.2 34.3 22.6 72.4 39.2 112.5 48.7 40.5 9.6 82.5 11.5 123.9 5.9 41.2-5.6 80.5-19.1 115.6-39.4 36.2-21 67.3-49.1 91.8-82.5 24-32.8 40.7-70.2 49.3-109.9 9.3-42.3 10.3-85.9 3.5-128.6-4.9-30.8-13.6-60.8-25.7-89.2-16.1-37.8-38.6-72.2-66.2-101.7-26.6-28.4-58-50.6-92.4-65.4-35-15-72.4-21.6-109.8-19.1-35.8 2.4-70.5 13.5-101.5 31.8-26.7 15.8-50.6 37.4-69.9 63.3-18.7 25.1-32.3 53.8-40.4 84.4-9.3 35.3-12.6 72-9.9 108.6 2.3 30.5 9.2 60.1 20.3 88.1 11.8 29.7 27.9 57.5 47.9 82.5 22.8 28.5 50.1 53.5 80.8 74 31.8 21.2 66.6 37.3 103.1 47.1 38.6 10.4 78.5 13.9 117.8 10.6 38.2-3.3 75.1-14.2 108.6-31.9 32.5-17.1 61.3-40.6 84.8-68.9 23.3-28.2 41-61.4 52.1-96.9 11.3-36.1 15.6-73.9 13.2-111.9-1.5-24.2-5.2-48.1-10.9-71.3-9.5-38.4-25.2-75.1-46.1-108.6-20.1-32.3-45.2-61.2-74.2-85.4-29.2-24.4-62-43.7-96.9-56.9-35.9-13.5-73.6-20-111.4-18.9-34.9 1-69.2 9.2-100.9 23.7-27.1 12.4-52.1 29.6-73.6 50.7-22.1 21.6-39.9 47.3-52.5 75.7-13.1 29.4-20.5 61.1-21.7 93.4-1.2 31.8 3.8 63.4 14.6 92.9 11.6 31.1 29 59.9 51.3 85.3 23.2 26.3 50.8 48.7 81.6 66.2 31.8 18.1 66.4 30.8 102.1 37.3 38.7 6.9 78.2 7.1 116.8 1.1 38.2-6 74.8-18.8 107.6-37.5 33.1-18.9 62-43.8 85.2-73.1 23-29.1 39.8-62.8 50.1-98.7 10.3-35.9 13.7-73.6 10.2-111-2.2-23.7-6.8-47-13.3-69.5-10.9-36.3-27.8-70.5-49.8-101.1-21-29.4-46.7-55-75.9-75.4-29.6-20.6-62.3-35.4-96.7-43.5-35.1-8.3-71.2-9.6-106.5-4.1-32.1 5-62.8 15.8-90.8 31.6-25.2 14.3-48.2 33-67.6 55.4-19.6 22.5-35.3 48.3-46.1 76-11.4 29.4-17.5 60.8-17.9 92.6-.4 31.5 5.1 62.7 16.2 92s27.5 56.4 48.2 79.9c21.8 24.5 47.9 45 77.2 59.9 30.7 15.6 64.1 25.1 98.2 27.6 32.7 2.4 65.4-2.5 95.5-13.9 29.7-11.3 56.8-29.1 79.9-52.2 23.2-23.2 41.8-51.2 54.8-82.1 13.1-31.1 20.3-64.8 21-99.3.6-28.7-3.1-57.2-10.9-84.4-8.8-30.8-22.3-59.7-40-85.8-17.7-26.1-39.5-49-64.7-67.9-25.7-19.2-54.4-34-85.1-43.6-32.3-10.1-65.8-14.4-99.3-12.5-31.5 1.8-62.3 10.6-90.8 25.5-26.2 13.7-50.1 32.7-69.9 55.9-19.6 22.9-35 50-45.2 79.1-10.1 28.7-14.8 59.3-13.7 90 .9 25.3 5.9 50.3 14.8 74.2 9.6 25.7 23.2 49.9 40.4 71.7 17.8 22.4 39.1 42.1 63.3 58.1 24.7 16.3 51.8 28.7 80.1 36.3 29.9 8 60.9 10.8 91.5 8.1 30.5-2.6 60.1-10.9 87.5-24.1 27.5-13.3 52.6-31.5 74.2-53.5 21.3-21.7 38.8-47.3 51.3-75.5 12.3-27.9 19.3-58.1 20.4-88.7 1-28.9-3.2-57.7-12.2-84.8-9.4-28.2-23.8-54.7-42.4-78.3-18.3-23.1-40.4-43.1-65.5-59-25.5-16.1-53.5-27.6-82.9-33.8-30.7-6.5-62.1-7.1-92.9-2-29.4 4.9-57.6 15.6-82.9 31.1-23.5 14.4-44.8 33.3-62.5 55.5-17.7 22.3-31.6 47.9-40.6 75.3-8.8 26.9-12.7 55.5-11.4 84.1.9 22.3 5.9 44.3 14.5 65.3 8.7 21.2 21 41.2 36.4 59.3 15.9 18.5 34.8 34.9 56 48.4 21.6 13.7 45.1 24.3 69.8 31.1 25.8 7.2 52.4 10.3 78.9 9 26.6-1.3 52.8-7.1 77.3-17.1 24.5-10 47.3-24.3 67.2-42.2 19.8-17.8 36.5-39.1 49.1-62.5 12.3-23 20.2-48 23.2-73.6 2.8-24.3 0.6-49-6.3-72.5-7.7-25.8-20.7-49.8-38.2-71.3-17.1-21-38-39.2-61.6-53.9-24.1-15-50.4-25.8-77.9-31.8-28.8-6.3-58.2-7.3-87.1-2.9-27.8 4.2-54.4 13.9-78.3 28.2-22.3 13.3-42.5 30.6-59.3 51.1-16.7 20.3-29.6 43.6-37.9 68.7-8.3 25-11.9 51.5-10.4 78 .5 8.9 2 17.8 4.5 26.5 6.4 22.5 16.5 43.7 29.9 62.9 13.9 19.9 31 37.8 50.8 52.6 19.9 14.9 42.1 26.6 65.8 34.4 24.5 8.1 50.2 12.1 75.9 11.5 25.2-.5 50.1-5.7 73.6-15.1 23.4-9.3 45.1-23.2 64.1-40.6 18.6-17.1 34.3-37.7 46.1-60.5 11.4-22.3 18.8-46.6 21.6-71.7 2.4-21.6 0-43.6-6.9-64.1-7.1-21-18.7-40.4-33.8-57.1-14.8-16.4-32.6-30-52.2-40.2-20.2-10.5-42-17.2-64.6-19.5-23.4-2.4-46.9.4-69.5 7.8-21.7 7.1-42.1 19.1-59.9 34.8-17.4 15.3-31.9 34-42.2 54.8-10.1 20.4-15.9 42.6-16.9 65.3-1 22.8 3.1 45.5 11.9 66.9 8.7 21.2 21.9 40.8 38.8 57.7 17.1 17.1 37.4 31.2 59.9 41.8 23.2 10.9 48.3 17.8 73.9 20 25.1 2.2 50.2-.8 73.9-8.9 23.4-8 45.3-21.1 64.6-38.1 18.8-16.7 34.6-37.1 46.1-59.9 11.1-22.2 17.6-46.4 19.1-71.1 1.2-19.4-1.3-38.8-7.5-57.1-6.1-18-16-34.9-28.9-49.7-12.7-14.6-28-26.9-45.2-36.4-17.6-9.7-36.8-16.4-56.9-19.8-20.5-3.4-41.2-3.1-61.4.9-19.6 3.8-38.3 11.6-55.2 22.6-16.2 10.6-30.8 24.1-42.8 40-11.6 15.5-20.4 33-25.9 51.5-5.4 18.3-7.4 37.5-5.8 56.5 1.4 17.5 6.6 34.6 15.1 50.4 8.7 16.1 20.5 30.7 35.1 43.1 14.4 12.2 31.3 22.1 49.9 29.1 19.4 7.3 39.8 11.4 60.2 11.9 20.1.5 40.1-2.4 59.3-8.9 18.9-6.4 36.9-16.4 52.6-29.5 15.5-12.9 28.5-28.7 38.4-46.4 9.5-17.4 15.8-36.5 18.4-56.1 2.4-18.4 1.1-37.1-3.8-55.2-5.3-19.4-14.1-37.8-26.1-54.4-11.7-16.2-26.3-30.7-43.1-42.2-17.1-11.8-36.1-20.4-56.1-25.6-20.3-5.2-41.2-6.8-61.8-4.4-19.8 2.3-39.1 8.8-56.9 18.8-17.1 9.6-32.8 22.6-46.1 38.1-12.9 15.2-23.1 32.6-29.9 51.1-6.7 18.3-9.9 37.8-9.4 57.3.5 19.2 4.9 38.1 12.7 56.1 8.1 18.5 19.5 35.9 33.8 51.5 14.4 15.7 31.5 29.3 50.8 40.2 19.7 11.1 41.1 19.1 50.8 34.4.1.3.3.6.4.9l.4.9c3.1 7.2 9.2 12.3 16.6 14.5l22.7 6.7c8.1 2.4 16.7.7 23.3-4.5l21.2-16.7c7.9-6.2 11.5-16.4 8.8-25.9l-9.4-33.1c-2.4-8.5-9.1-14.7-17.6-15.5-8.5-.8-16.5 3.5-20.9 10.7l-15.5 25.1c-2.5 4-7.5 5.9-12 4.5s-7.8-5.8-6.9-10.7l10.4-56.1c1-5.4-1.6-10.9-6.3-13.8s-10.9-1.6-13.8 3.1l-25.5 41.4c-3.1 5-9.2 7.2-14.9 5.5s-9.9-6.9-9.1-12.6l15.1-100.2c.8-5.6-2.1-11.2-7.5-13.6s-11.2.3-13.6 5.6l-37.5 81.3c-2.6 5.6-8.5 8.5-14.2 7-5.7-1.5-9.4-6.8-8.2-12.4l14.8-68.7c1.2-5.6-1.5-11.4-6.9-13.6s-11.4 1.5-13.6 6.9l-22.1 53.9c-2.4 5.8-8.1 9.1-13.8 8-5.7-1.1-9.9-6.1-9.1-11.8l10.4-71.1c.9-5.9-2.3-11.7-8-13.8s-11.7 1-13.8 6.7l-16 43.1c-2.3 6.1-8.1 9.8-14 8.5-5.8-1.3-9.9-6.5-9-12.3l6.4-43.1c1-6.7-2.4-13.4-8.8-15.9s-13.4.4-15.9 6.7l-9.8 24.7c-2.9 7.2-10.2 11.2-17.8 9.9-7.6-1.3-12.9-7.8-12-15.4l5.3-44c1-8.3-4.2-16.4-12.4-19.1s-17-0-20.2 7.9l-4.9 12.3c-3.4 8.5-12 13.5-20.9 12-9-.1-16.7-6.2-18.7-15.1-2-8.8 2.2-17.7 10.4-21.4l24.4-11c9-4.1 15.3-12.8 15.7-22.5.4-9.8-4.9-19-13.8-23.2l-25.9-12.3c-9.1-4.3-19.4-4.3-28.5 0l-25.9 12.3c-9 4.3-14.2 13.4-13.8 23.2.4 9.7 6.8 18.4 15.7 22.5l24.4 11c8.2 3.7 12.4 12.6 10.4 21.4-2 8.8-9.8 15-18.7 15.1-8.9 1.5-17.5-3.5-20.9-12l-4.9-12.3c-3.2-7.9-12.1-11.2-20.2-7.9-8.1 2.7-13.4 10.8-12.4 19.1l5.3 44c.9 7.6-4.4 14.1-12 15.4-7.6 1.3-14.9-2.7-17.8-9.9l-9.8-24.7c-2.5-6.3-9.5-8.8-15.9-6.7-6.4 2.5-9.8 9.2-8.8 15.9l6.4 43.1c.9 5.8-3.2 11-9 12.3s-11.5-2.2-14-8.5l-16-43.1c-2.1-5.7-8-8.8-13.8-6.7-5.7 2.1-9.2 7.7-8 13.8l10.4 71.1c.8 5.7-3.4 10.7-9.1 11.8-5.7 1.1-11.4-2.2-13.8-8l-22.1-53.9c-2.2-5.4-7.9-8.1-13.6-6.9-5.7 1.2-9.4 6.8-8.2 12.4l14.8 68.7c1.2 5.6-2.5 11-8.2 12.4-5.7 1.5-11.6-1.4-14.2-7l-37.5-81.3c-2.4-5.3-8.2-8-13.6-5.6s-8.3 8-7.5 13.6l15.1 100.2c.8 5.7-3.4 10.7-9.1 12.6-5.7 1.7-11.8-.5-14.9-5.5l-25.5-41.4c-2.9-4.7-8.9-6.2-13.8-3.1-4.7 2.9-7.3 8.4-6.3 13.8l10.4 56.1c.9 4.9-1.5 9.9-6.9 10.7s-10.5-2.5-12-7.3l-15.5-25.1c-4.4-7.2-12.4-11.5-20.9-10.7-8.5.8-15.2 7-17.6 15.5l-9.4 33.1c-2.7 9.5.9 19.7 8.8 25.9l21.2 16.7c6.6 5.2 15.2 6.9 23.3 4.5l22.7-6.7c7.4-2.2 13.5-7.3 16.6-14.5l.4-.9c.1-.3.3-.6.4-.9.1.1 9.6-15.3 29.3-25.5 19.4-10.2 40.7-18.2 50.8-29.3 12.2-13.4 21.8-29.1 28.1-46.1 6.5-17.5 9.7-35.8 9.3-54-1.2-48.4-19.8-94.8-51.5-132.8-29.3-35.2-69-62-113.8-77.3-43-14.7-89.4-15.7-133.4-3.1-42.5 12.2-80.5 38.9-109.1 76.5-26.6 35-42.3 78.4-46.2 123.6-4.1 47.7 4.1 96 22.8 138.8 19.1 43.8 48.9 81.3 86.8 108.8 40.5 29.3 88.9 46.8 139.1 50.4 49.2 3.6 98.4-8.8 141.2-34.9 42.6-26 77.4-64.4 99.8-109.9 20.9-42.6 28.1-90.5 22.1-137.2-6.5-50.6-27-98.3-59-138.3-29.9-37.4-69.8-65.7-114.9-81.8-44.1-15.8-91.8-18-137-6.4-44.8 11.5-85.3 36.3-116.5 70.8-29.3 32.5-47.8 73.1-54.1 116.5-6.7 46.2-1 93.8 18.2 136.2 19.5 42.9 51.1 79.5 91.1 105.1 41.5 26.5 89.6 40.8 138.8 41.6h.4c48-.8 95.3-15.5 137.3-41.8 41.6-26.1 76.8-63.5 99.8-107.2 21.2-40.4 29.3-85.7 24.6-130.4-5.3-50.1-25-97-56.1-135.5-30.8-38.1-72-66.8-118.7-83.3-46.1-16.3-95.8-19.4-142.7-9.5-45.7 9.8-87.3 32.8-120.5 65.6-32.1 31.8-54.1 72-64.1 115.1-10.2 43.9-8.1 89.9 6.2 133.1 14.2 42.9 41.3 81.1 77.9 109.8 38.6 30.2 84.7 49 132.8 54.3 49.3 5.4 99-4.8 142.2-28.7 42.3-23.4 76.9-59.2 99.8-102.8 20.9-40.1 28.3-85.4 22.5-129.6-6.4-48.4-26.8-93.9-58.2-131.6-30.4-36.5-70.3-63.6-114.6-78.8-44.4-15.3-92-17.5-137.2-6.6-43.9 10.6-83.7 34.2-114.6 67.5-29.9 32.3-49.2 72.8-56.3 115.9-7.3 44.4-2.1 90.5 17.1 131.6 19.2 41 49.8 75.8 88.2 100.2 39.8 25.4 86.4 39.4 134.4 39.9 49.2.5 98-12.8 140.7-37.8 42.3-24.8 77.3-60.6 99.8-102.8 20.7-38.9 27.9-83 22.3-126.1-6.1-46.7-26-90.9-56.9-127.3-30.6-36-70.7-62.4-115.1-76.4-44.8-14.2-92.4-14.8-137.3-1.8-43.5 12.6-82.9 38.6-113.8 74.2-29.8 34.5-48.5 77.7-54.8 123.1-6.6 47.1.3 95.3 20.3 138.8 20.1 43.7 52.4 81.3 93.6 108.8 42.6 28.4 92.1 45.1 142.9 48 50.9 2.9 101.4-10.3 145.4-37.1 43.1-26.2 78-64.4 99.8-109.9 20-42.1 26.1-89.2 19.4-135.2-7.1-49.4-27.9-95.9-59.3-134.9-30-37.4-70.1-65.5-115.1-81.8-44.8-16.1-93-18.9-138.8-8.1-44.5 10.5-84.9 34.4-116.5 67.5-30.9 32.4-51.1 73.1-59 117.8-8.2 46.1-3.9 94 14.5 137.3 18.5 43.4 49.4 80.8 88.2 107.9 40.1 28.1 86.9 43.8 135.3 45.5 49.6 1.7 98.7-10.2 141.8-33.8 42.9-23.4 78-58.1 99.8-99.3 20.1-37.8 26.6-80.8 19.9-122.8-7.3-45.2-28.1-87.3-59.3-122-30.8-34.2-71-59.1-115.8-72.2-45.3-13.2-93.2-13.4-138.1 0-43.4 13-82.6 39.1-113.8 74.2-30.4 34.1-49.6 77-56.1 121.7-6.7 45.8-.8 93.1 18.2 135.3 19.1 42.3 50.4 78.4 89.1 104.2 39.8 26.7 86.4 40.5 134.4 40.8h.4c49.2-.5 98.1-14.9 141.2-41.1 42.9-25.9 78-63.3 99.8-106.3 20-40.1 26.5-85.1 20.3-129.3-6.8-48.4-27.4-94.2-58.2-132.5-30.4-37.9-70.3-66.8-115.8-83.3-45.1-16.3-93.9-19-139.9-8.6-44.8 10.2-85.6 33.6-117.4 66.7-31.1 32.2-51.6 72.8-60.2 116.5-8.8 44.8-5.3 91.5 12.7 134.4 17.9 42.6 47.9 79.5 86.8 106.7 39.9 28 86.9 43.1 135.3 43.8 49.6.7 98.9-12.2 142.2-36.9 43.1-24.5 78.2-60.2 99.8-101.9 19.9-38.3 26.2-81.8 19.9-124.7-6.8-46-27.2-88.9-57.8-125.2-30.4-36-70.3-62.7-114.6-77.5-44.8-14.9-92.4-16.1-137.3-3.8-43.5 12-82.9 37.3-113.8 71.3-30.1 33.2-49.2 74.9-55.7 118.7-6.7 45.2.2 91.8 20.3 133.9 20.1 42.1 52.4 78.1 92.7 103.3 41.6 26.1 89.6 39.9 138.8 39.9h.4c48.9 0 97.4-13.8 139.9-39.2 42.3-25.2 77.3-61.6 99.8-104.2 20.7-39.2 28.1-83.5 22.8-126.9-5.9-47.1-25.5-91.8-56.1-130.4-30.4-38.3-70.3-67.5-115.1-84.2-45.3-16.8-94.2-19.8-140.7-9.5-45.2 10.2-86.4 33.6-118.7 66.7-31.6 32.2-52.5 72.8-61.2 116.5-8.8 44.8-5.3 91.5 12.7 134.4 17.9 42.6 47.9 79.5 86.8 106.7 39.9 28 86.9 43.1 135.3 43.8 49.6.7 98.9-12.2 142.2-36.9 43.1-24.5 78.2-60.2 99.8-101.9 19.9-38.3 26.2-81.8 19.9-124.7-6.8-46-27.2-88.9-57.8-125.2-30.4-36-70.3-62.7-114.6-77.5-44.8-14.9-92.4-16.1-137.3-3.8-43.5 12-82.9 37.3-113.8 71.3-30.1 33.2-49.2 74.9-55.7 118.7-6.7 45.2.2 91.8 20.3 133.9 20.1 42.1 52.4 78.1 92.7 103.3 41.6 26.1 89.6 39.9 138.8 39.9h.4c48.9 0 97.4-13.8 139.9-39.2 42.3-25.2 77.3-61.6 99.8-104.2 20.7-39.2 28.1-83.5 22.8-126.9-5.9-47.1-25.5-91.8-56.1-130.4-30.4-38.3-70.3-67.5-115.1-84.2-45.3-16.8-94.2-19.8-140.7-9.5-45.2 10.2-86.4 33.6-118.7 66.7-31.6 32.2-52.5 72.8-61.2 116.5-8.8 44.8-5.3 91.5 12.7 134.4 17.9 42.6 47.9 79.5 86.8 106.7 39.9 28 86.9 43.1 135.3 43.8 49.6.7 98.9-12.2 142.2-36.9 43.1-24.5 78.2-60.2 99.8-101.9 19.9-38.3 26.2-81.8 19.9-124.7-6.8-46-27.2-88.9-57.8-125.2-30.4-36-70.3-62.7-114.6-77.5-44.8-14.9-92.4-16.1-137.3-3.8-43.5 12-82.9 37.3-113.8 71.3-30.1 33.2-49.2 74.9-55.7 118.7-6.7 45.2.2 91.8 20.3 133.9 20.1 42.1 52.4 78.1 92.7 103.3 41.6 26.1 89.6 39.9 138.8 39.9.2 0 .4 0 .6 0z" />
                </svg>
            </div>
            {/* Cart animation with products */}
            {carts.map(cart => (
                <div 
                    key={cart.id} 
                    className="cart-anim" 
                    style={{ 
                        animationDuration: `${cart.duration}s`, 
                        bottom: `${cart.bottom}px` 
                    }} 
                    onAnimationEnd={() => handleRemoveCart(cart.id)}
                >
                    <img src={cart.imageUrl} alt="" className="cart-anim-product-img" />
                    <BrandedCartIcon className="w-8 h-8 text-white opacity-20" />
                </div>
            ))}
            <div className="container mx-auto px-6 py-12 relative z-10">
                {/* Newsletter Section */}
                <div className="grid grid-cols-1 md:grid-cols-2 gap-8 items-center pb-12 border-b border-gray-700">
                    <div>
                        <h3 className="text-2xl font-bold text-white">Stay in the Loop</h3>
                        <p className="text-gray-400 mt-1">Get deals, new products, and promotions delivered to your inbox.</p>
                    </div>
                    <form className="flex items-center" onSubmit={e => e.preventDefault()}>
                        <label htmlFor="email-address" className="sr-only">Email address</label>
                        <div className="relative flex-grow">
                            <EnvelopeIcon className="w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2 pointer-events-none"/>
                            <input
                                id="email-address"
                                name="email"
                                type="email"
                                autoComplete="email"
                                required
                                className="w-full bg-gray-700 border border-gray-600 rounded-l-md py-3 pl-10 pr-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all"
                                placeholder="Enter your email"
                            />
                        </div>
                        <button
                            type="submit"
                            className="bg-orange-500 text-white font-semibold py-3 px-5 rounded-r-md hover:bg-orange-600 transition-colors flex-shrink-0"
                            aria-label="Subscribe to newsletter"
                        >
                            <PaperAirplaneIcon className="w-6 h-6" />
                        </button>
                    </form>
                </div>

                {/* Links Section */}
                <div className="grid grid-cols-2 md:grid-cols-5 gap-8 pt-12">
                     <div className="col-span-2 md:col-span-2">
                        <img 
                            src="/src/assets/images/logo/medium_128x128.png" 
                            alt="Bigi Logo" 
                            className="w-24 h-auto cursor-pointer" 
                            onClick={() => onNavigate('home')} 
                        />
                        <p className="mt-2 text-gray-400 text-sm max-w-xs">{SLOGAN} Fast, reliable delivery across Kenya.</p>
                        <div className="mt-6 flex space-x-5 items-center">
                            <SocialLink href={`https://instagram.com/${INSTAGRAM_HANDLE}`} icon={<InstagramIcon className="w-7 h-7" />} className="social-icon social-instagram" />
                            <SocialLink href={`https://facebook.com/${FACEBOOK_HANDLE}`} icon={<FacebookIcon className="w-7 h-7" />} className="social-icon social-facebook" />
                            <SocialLink href={`https://tiktok.com/@${TIKTOK_HANDLE}`} icon={<TikTokIcon className="w-7 h-7" />} className="social-icon social-tiktok" />
                            <SocialLink href={`https://x.com/${X_HANDLE}`} icon={<XSocialIcon className="w-7 h-7" />} className="social-icon social-x" />
                            <SocialLink href={`${LINKEDIN_HANDLE}`} icon={<LinkedInIcon className="w-7 h-7" />} className="social-icon social-linkedin" />
                        </div>
                    </div>
                    <div className="col-span-1">
                        <h3 className="font-bold text-lg text-white">Shop</h3>
                        <ul className="mt-4 space-y-2 text-sm">
                            {CATEGORIES.slice(0, 5).map(cat => (
                                <li key={cat}><a href="#" onClick={e => { e.preventDefault(); onNavigate('products', { category: cat }); }} className="text-gray-400 hover:text-white transition-colors">{cat}</a></li>
                            ))}
                        </ul>
                    </div>
                    <div className="col-span-1">
                        <h3 className="font-bold text-lg text-white">Company</h3>
                        <ul className="mt-4 space-y-2 text-sm">
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('aboutUs'); }} className="text-gray-400 hover:text-white transition-colors">About Us</a></li>
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('careers'); }} className="text-gray-400 hover:text-white transition-colors">Careers</a></li>
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('customerFeedbackPage'); }} className="text-gray-400 hover:text-white transition-colors">Testimonials</a></li>
                        </ul>
                    </div>
                     <div className="col-span-2 md:col-span-1">
                        <h3 className="font-bold text-lg text-white">Support</h3>
                        <ul className="mt-4 space-y-2 text-sm">
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('contactUs'); }} className="text-gray-400 hover:text-white transition-colors">Contact Us</a></li>
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('helpCenter'); }} className="text-gray-400 hover:text-white transition-colors">Help Center</a></li>
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('terms'); }} className="text-gray-400 hover:text-white transition-colors">Terms of Service</a></li>
                            <li><a href="#" onClick={e => { e.preventDefault(); onNavigate('privacy'); }} className="text-gray-400 hover:text-white transition-colors">Privacy Policy</a></li>
                        </ul>
                    </div>
                </div>

                {/* Bottom Bar */}
                <div className="mt-12 border-t border-gray-700 pt-8 flex flex-col md:flex-row justify-between items-center gap-y-6 md:gap-y-0">
                    <div className="text-center text-gray-400 text-sm order-2 md:order-1">
                        &copy; {new Date().getFullYear()} Bigi Technologies Inc. All Rights Reserved.
                    </div>
                     <div className="flex items-center justify-end space-x-2 order-1 md:order-2">
                        <span className="text-sm text-gray-400">We Accept:</span>
                        <div className="flex items-center space-x-2 bg-green-500/20 text-green-300 px-3 py-1 rounded-md border border-green-500/30">
                            <BanknotesIcon className="w-5 h-5" />
                            <span className="font-bold text-sm">Pay on Delivery</span>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    );
};